"use strict";(self.webpackChunktoken_allowance_checker=self.webpackChunktoken_allowance_checker||[]).push([[6464],{263174:function(e,n,t){var r=t(740918).Buffer;var o=t(501773);function i(e){var n=r.alloc(2);return n.writeUInt16BE(e,0),n}var a={data:r.alloc(0),dataLength:0,sequence:0};n.Z=function(e,n){return{makeBlocks:function(t){var o=r.concat([i(t.length),t]),a=n-5,c=Math.ceil(o.length/a);o=r.concat([o,r.alloc(c*a-o.length+1).fill(0)]);for(var u=[],s=0;s<c;s++){var l=r.alloc(5);l.writeUInt16BE(e,0),l.writeUInt8(5,2),l.writeUInt16BE(s,3);var d=o.slice(s*a,(s+1)*a);u.push(r.concat([l,d]))}return u},reduceResponse:function(n,t){var i=n||a,c=i.data,u=i.dataLength,s=i.sequence;if(t.readUInt16BE(0)!==e)throw new o.TransportError("Invalid channel","InvalidChannel");if(5!==t.readUInt8(2))throw new o.TransportError("Invalid tag","InvalidTag");if(t.readUInt16BE(3)!==s)throw new o.TransportError("Invalid sequence","InvalidSequence");n||(u=t.readUInt16BE(5)),s++;var l=t.slice(n?5:7);return(c=r.concat([c,l])).length>u&&(c=c.slice(0,u)),{data:c,dataLength:u,sequence:s}},getReducedResult:function(e){if(e&&e.dataLength===e.data.length)return e.data}}}},501773:function(e,n,t){t.r(n),t.d(n,{AccountNameRequiredError:function(){return d},AccountNotSupported:function(){return f},AmountRequired:function(){return p},BluetoothRequired:function(){return h},BtcUnmatchedApp:function(){return v},CantOpenDevice:function(){return g},CantScanQRCode:function(){return Be},CashAddrNotSupported:function(){return y},CurrencyNotSupported:function(){return m},DBNotReset:function(){return Ze},DBWrongPassword:function(){return Ye},DeviceAppVerifyNotSupported:function(){return E},DeviceGenuineSocketEarlyClose:function(){return b},DeviceHalted:function(){return A},DeviceInOSUExpected:function(){return T},DeviceNameInvalid:function(){return N},DeviceNotGenuineError:function(){return w},DeviceOnDashboardExpected:function(){return I},DeviceOnDashboardUnexpected:function(){return S},DeviceShouldStayInApp:function(){return _e},DeviceSocketFail:function(){return D},DeviceSocketNoBulkStatus:function(){return C},DisconnectedDevice:function(){return O},DisconnectedDeviceDuringOperation:function(){return U},ETHAddressNonEIP:function(){return xe},EnpointConfigError:function(){return R},EthAppPleaseEnableContractData:function(){return _},FeeEstimationFailed:function(){return P},FeeNotLoaded:function(){return Fe},FeeRequired:function(){return Ge},FeeTooHigh:function(){return qe},FirmwareNotRecognized:function(){return k},FirmwareOrAppUpdateRequired:function(){return Ke},GasLessThanEstimate:function(){return ue},GenuineCheckFailed:function(){return We},HardResetFail:function(){return M},InvalidAddress:function(){return x},InvalidAddressBecauseDestinationIsAlsoSource:function(){return B},InvalidXRPTag:function(){return L},LatestMCUInstalledError:function(){return F},LedgerAPI4xx:function(){return je},LedgerAPI5xx:function(){return Xe},LedgerAPIError:function(){return q},LedgerAPIErrorWithMessage:function(){return z},LedgerAPINotAvailable:function(){return H},MCUNotGenuineToDashboard:function(){return ve},ManagerAppAlreadyInstalledError:function(){return W},ManagerAppDepInstallRequired:function(){return X},ManagerAppDepUninstallRequired:function(){return K},ManagerAppRelyOnBTCError:function(){return j},ManagerDeviceLockedError:function(){return V},ManagerFirmwareNotEnoughSpaceError:function(){return Y},ManagerNotEnoughSpaceError:function(){return Z},ManagerUninstallBTCDep:function(){return Q},NetworkDown:function(){return J},NoAccessToCamera:function(){return ie},NoAddressesFound:function(){return $},NoDBPathGiven:function(){return Ve},NotEnoughBalance:function(){return ee},NotEnoughBalanceBecauseDestinationNotCreated:function(){return oe},NotEnoughBalanceInParentAccount:function(){return te},NotEnoughBalanceToDelegate:function(){return ne},NotEnoughGas:function(){return ae},NotEnoughSpendableBalance:function(){return re},NotSupportedLegacyAddress:function(){return ce},PairingFailed:function(){return He},PasswordIncorrectError:function(){return le},PasswordsDontMatchError:function(){return se},RecipientRequired:function(){return ge},RecommendSubAccountsToEmpty:function(){return de},RecommendUndelegation:function(){return fe},StatusCodes:function(){return Je},SyncError:function(){return ze},TimeoutTagged:function(){return pe},TransportError:function(){return Qe},TransportInterfaceNotAvailable:function(){return Oe},TransportOpenUserCancelled:function(){return Ce},TransportRaceCondition:function(){return Ue},TransportStatusError:function(){return en},TransportWebUSBGestureRequired:function(){return Re},UnavailableTezosOriginatedAccountReceive:function(){return ye},UnavailableTezosOriginatedAccountSend:function(){return me},UnexpectedBootloader:function(){return he},UnknownMCU:function(){return G},UpdateFetchFileFail:function(){return Ee},UpdateIncorrectHash:function(){return be},UpdateIncorrectSig:function(){return we},UpdateYourApp:function(){return Ie},UserRefusedAddress:function(){return Te},UserRefusedAllowManager:function(){return Ne},UserRefusedDeviceNameChange:function(){return Se},UserRefusedFirmwareUpdate:function(){return Ae},UserRefusedOnDevice:function(){return De},WebsocketConnectionError:function(){return Pe},WebsocketConnectionFailed:function(){return ke},WrongAppForCurrency:function(){return Le},WrongDeviceForAccount:function(){return Me},addCustomErrorDeserializer:function(){return a},createCustomErrorClass:function(){return c},deserializeError:function(){return u},getAltStatusMessage:function(){return $e},serializeError:function(){return s}});var r=function(e){var n="function"===typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},o={},i={},a=function(e,n){i[e]=n},c=function(e){var n=function(n,t){Object.assign(this,t),this.name=e,this.message=n||e,this.stack=(new Error).stack};return n.prototype=new Error,o[e]=n,n},u=function e(n){if("object"===typeof n&&n){try{var t=JSON.parse(n.message);t.message&&t.name&&(n=t)}catch(d){}var r=void 0;if("string"===typeof n.name){var a=n.name,u=i[a];if(u)r=u(n);else{var s="Error"===a?Error:o[a];s||(console.warn("deserializing an unknown class '"+a+"'"),s=c(a)),r=Object.create(s.prototype);try{for(var l in n)n.hasOwnProperty(l)&&(r[l]=n[l])}catch(d){}}}else r=new Error(n.message);return!r.stack&&Error.captureStackTrace&&Error.captureStackTrace(r,e),r}return new Error(String(n))},s=function(e){return e?"object"===typeof e?l(e,[]):"function"===typeof e?"[Function: "+(e.name||"anonymous")+"]":e:e};function l(e,n){var t,o,i={};n.push(e);try{for(var a=r(Object.keys(e)),c=a.next();!c.done;c=a.next()){var u=c.value,s=e[u];"function"!==typeof s&&(s&&"object"===typeof s?-1!==n.indexOf(e[u])?i[u]="[Circular]":i[u]=l(e[u],n.slice(0)):i[u]=s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}return"string"===typeof e.name&&(i.name=e.name),"string"===typeof e.message&&(i.message=e.message),"string"===typeof e.stack&&(i.stack=e.stack),i}var d=c("AccountNameRequired"),f=c("AccountNotSupported"),p=c("AmountRequired"),h=c("BluetoothRequired"),v=c("BtcUnmatchedApp"),g=c("CantOpenDevice"),y=c("CashAddrNotSupported"),m=c("CurrencyNotSupported"),E=c("DeviceAppVerifyNotSupported"),b=c("DeviceGenuineSocketEarlyClose"),w=c("DeviceNotGenuine"),I=c("DeviceOnDashboardExpected"),S=c("DeviceOnDashboardUnexpected"),T=c("DeviceInOSUExpected"),A=c("DeviceHalted"),N=c("DeviceNameInvalid"),D=c("DeviceSocketFail"),C=c("DeviceSocketNoBulkStatus"),O=c("DisconnectedDevice"),U=c("DisconnectedDeviceDuringOperation"),R=c("EnpointConfig"),_=c("EthAppPleaseEnableContractData"),P=c("FeeEstimationFailed"),k=c("FirmwareNotRecognized"),M=c("HardResetFail"),L=c("InvalidXRPTag"),x=c("InvalidAddress"),B=c("InvalidAddressBecauseDestinationIsAlsoSource"),F=c("LatestMCUInstalledError"),G=c("UnknownMCU"),q=c("LedgerAPIError"),z=c("LedgerAPIErrorWithMessage"),H=c("LedgerAPINotAvailable"),W=c("ManagerAppAlreadyInstalled"),j=c("ManagerAppRelyOnBTC"),X=c("ManagerAppDepInstallRequired"),K=c("ManagerAppDepUninstallRequired"),V=c("ManagerDeviceLocked"),Y=c("ManagerFirmwareNotEnoughSpace"),Z=c("ManagerNotEnoughSpace"),Q=c("ManagerUninstallBTCDep"),J=c("NetworkDown"),$=c("NoAddressesFound"),ee=c("NotEnoughBalance"),ne=c("NotEnoughBalanceToDelegate"),te=c("NotEnoughBalanceInParentAccount"),re=c("NotEnoughSpendableBalance"),oe=c("NotEnoughBalanceBecauseDestinationNotCreated"),ie=c("NoAccessToCamera"),ae=c("NotEnoughGas"),ce=c("NotSupportedLegacyAddress"),ue=c("GasLessThanEstimate"),se=c("PasswordsDontMatch"),le=c("PasswordIncorrect"),de=c("RecommendSubAccountsToEmpty"),fe=c("RecommendUndelegation"),pe=c("TimeoutTagged"),he=c("UnexpectedBootloader"),ve=c("MCUNotGenuineToDashboard"),ge=c("RecipientRequired"),ye=c("UnavailableTezosOriginatedAccountReceive"),me=c("UnavailableTezosOriginatedAccountSend"),Ee=c("UpdateFetchFileFail"),be=c("UpdateIncorrectHash"),we=c("UpdateIncorrectSig"),Ie=c("UpdateYourApp"),Se=c("UserRefusedDeviceNameChange"),Te=c("UserRefusedAddress"),Ae=c("UserRefusedFirmwareUpdate"),Ne=c("UserRefusedAllowManager"),De=c("UserRefusedOnDevice"),Ce=c("TransportOpenUserCancelled"),Oe=c("TransportInterfaceNotAvailable"),Ue=c("TransportRaceCondition"),Re=c("TransportWebUSBGestureRequired"),_e=c("DeviceShouldStayInApp"),Pe=c("WebsocketConnectionError"),ke=c("WebsocketConnectionFailed"),Me=c("WrongDeviceForAccount"),Le=c("WrongAppForCurrency"),xe=c("ETHAddressNonEIP"),Be=c("CantScanQRCode"),Fe=c("FeeNotLoaded"),Ge=c("FeeRequired"),qe=c("FeeTooHigh"),ze=c("SyncError"),He=c("PairingFailed"),We=c("GenuineCheckFailed"),je=c("LedgerAPI4xx"),Xe=c("LedgerAPI5xx"),Ke=c("FirmwareOrAppUpdateRequired"),Ve=c("NoDBPathGiven"),Ye=c("DBWrongPassword"),Ze=c("DBNotReset");function Qe(e,n){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=n}Qe.prototype=new Error,a("TransportError",(function(e){return new Qe(e.message,e.id)}));var Je={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function $e(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}function en(e){this.name="TransportStatusError";var n=Object.keys(Je).find((function(n){return Je[n]===e}))||"UNKNOWN_ERROR",t=$e(e)||n,r=e.toString(16);this.message="Ledger device: "+t+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=n}en.prototype=new Error,a("TransportStatusError",(function(e){return new en(e.statusCode)}))},886464:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r,o,i=t(868041),a=t.n(i),c=t(501773),u=t(740918).Buffer,s=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(n){i(n)}}function c(e){try{u(r.throw(e))}catch(n){i(n)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}u((r=r.apply(e,n||[])).next())}))},l=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(c){i=[6,c],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},d=function(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},f=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},p=function(e){var n="function"===typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(){function e(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(a()),this.send=function(n,t,r,o,i,a){return void 0===i&&(i=u.alloc(0)),void 0===a&&(a=[c.StatusCodes.OK]),s(e,void 0,void 0,(function(){var e,s;return l(this,(function(l){switch(l.label){case 0:if(i.length>=256)throw new c.TransportError("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");return[4,this.exchange(u.concat([u.from([n,t,r,o]),u.from([i.length]),i]))];case 1:if(e=l.sent(),s=e.readUInt16BE(e.length-2),!a.some((function(e){return e===s})))throw new c.TransportStatusError(s);return[2,e]}}))}))},this.exchangeAtomicImpl=function(n){return s(e,void 0,void 0,(function(){var e,t,r,o,i,a=this;return l(this,(function(u){switch(u.label){case 0:if(this.exchangeBusyPromise)throw new c.TransportRaceCondition("An action was already pending on the Ledger device. Please deny or reconnect.");t=new Promise((function(n){e=n})),this.exchangeBusyPromise=t,r=!1,o=setTimeout((function(){r=!0,a.emit("unresponsive")}),this.unresponsiveTimeout),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,n()];case 2:return i=u.sent(),r&&this.emit("responsive"),[2,i];case 3:return clearTimeout(o),e&&e(),this.exchangeBusyPromise=null,[7];case 4:return[2]}}))}))},this._appAPIlock=null}return e.prototype.exchange=function(e){throw new Error("exchange not implemented")},e.prototype.setScrambleKey=function(e){},e.prototype.close=function(){return Promise.resolve()},e.prototype.on=function(e,n){this._events.on(e,n)},e.prototype.off=function(e,n){this._events.removeListener(e,n)},e.prototype.emit=function(e){for(var n,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];(n=this._events).emit.apply(n,f([e],d(t),!1))},e.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},e.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},e.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},e.create=function(e,n){var t=this;return void 0===e&&(e=3e3),new Promise((function(r,o){var i=!1,a=t.listen({next:function(n){i=!0,a&&a.unsubscribe(),u&&clearTimeout(u),t.open(n.descriptor,e).then(r,o)},error:function(e){u&&clearTimeout(u),o(e)},complete:function(){u&&clearTimeout(u),i||o(new c.TransportError(t.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),u=n?setTimeout((function(){a.unsubscribe(),o(new c.TransportError(t.ErrorMessage_ListenTimeout,"ListenTimeout"))}),n):null}))},e.prototype.decorateAppAPIMethods=function(e,n,t){var r,o;try{for(var i=p(n),a=i.next();!a.done;a=i.next()){var c=a.value;e[c]=this.decorateAppAPIMethod(c,e[c],e,t)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},e.prototype.decorateAppAPIMethod=function(e,n,t,r){var o=this;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return s(o,void 0,void 0,(function(){var o;return l(this,(function(a){switch(a.label){case 0:if(o=this._appAPIlock)return[2,Promise.reject(new c.TransportError("Ledger Device is busy (lock "+o+")","TransportLocked"))];a.label=1;case 1:return a.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(r),[4,n.apply(t,i)];case 2:return[2,a.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}}))}))}},e.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",e.ErrorMessage_NoDeviceFound="No Ledger device found",e}(),v=h,g=t(263174),y=t(390153),m=t.n(y),E=function(){return E=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},E.apply(this,arguments)};!function(e){e.blue="blue",e.nanoS="nanoS",e.nanoSP="nanoSP",e.nanoX="nanoX"}(o||(o={}));var b=((r={})[o.blue]={id:o.blue,productName:"Ledger\xa0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,masks:[822083584,822149120],getBlockSize:function(e){return 4096}},r[o.nanoS]={id:o.nanoS,productName:"Ledger\xa0Nano\xa0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,masks:[823132160],getBlockSize:function(e){var n;return m().lt(null!==(n=m().coerce(e))&&void 0!==n?n:"","2.0.0")?4096:2048}},r[o.nanoSP]={id:o.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1569792,masks:[856686592],getBlockSize:function(e){return 32}},r[o.nanoX]={id:o.nanoX,productName:"Ledger\xa0Nano\xa0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,masks:[855638016],getBlockSize:function(e){return 4096},bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66",writeCmdUuid:"d973f2e3-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},r),w=(o.blue,o.nanoS,o.nanoX,Object.values(b)),I=function(e){var n=w.find((function(n){return n.legacyUsbProductId===e}));if(n)return n;var t=e>>8;return w.find((function(e){return e.productIdMM===t}))},S=[],T={};for(var A in b){var N=b[A],D=N.bluetoothSpec;if(D)for(var C=0;C<D.length;C++){var O=D[C];S.push(O.serviceUuid),T[O.serviceUuid]=T[O.serviceUuid.replace(/-/g,"")]=E({deviceModel:N},O)}}var U=0,R=[],_=function(e,n,t){var r={type:e,id:String(++U),date:new Date};n&&(r.message=n),t&&(r.data=t),function(e){for(var n=0;n<R.length;n++)try{R[n](e)}catch(t){console.error(t)}}(r)};"undefined"!==typeof window&&(window.__ledgerLogsListen=function(e){return R.push(e),function(){var n=R.indexOf(e);-1!==n&&(R[n]=R[R.length-1],R.pop())}});var P=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(n){i(n)}}function c(e){try{u(r.throw(e))}catch(n){i(n)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}u((r=r.apply(e,n||[])).next())}))},k=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(c){i=[6,c],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},M=[{vendorId:11415}];function L(){return P(this,void 0,void 0,(function(){return k(this,(function(e){switch(e.label){case 0:return[4,navigator.usb.requestDevice({filters:M})];case 1:return[2,e.sent()]}}))}))}function x(){return P(this,void 0,void 0,(function(){return k(this,(function(e){switch(e.label){case 0:return[4,navigator.usb.getDevices()];case 1:return[2,e.sent().filter((function(e){return 11415===e.vendorId}))]}}))}))}var B=function(){return Promise.resolve(!!navigator&&!!navigator.usb&&"function"===typeof navigator.usb.getDevices)},F=t(740918).Buffer,G=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),q=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(n){i(n)}}function c(e){try{u(r.throw(e))}catch(n){i(n)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}u((r=r.apply(e,n||[])).next())}))},z=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(c){i=[6,c],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},H=function(e){function n(n,t){var r=e.call(this)||this;return r.channel=Math.floor(65535*Math.random()),r.packetSize=64,r._disconnectEmitted=!1,r._emitDisconnect=function(e){r._disconnectEmitted||(r._disconnectEmitted=!0,r.emit("disconnect",e))},r.device=n,r.interfaceNumber=t,r.deviceModel=I(n.productId),r}return G(n,e),n.request=function(){return q(this,void 0,void 0,(function(){var e;return z(this,(function(t){switch(t.label){case 0:return[4,L()];case 1:return e=t.sent(),[2,n.open(e)]}}))}))},n.openConnected=function(){return q(this,void 0,void 0,(function(){var e;return z(this,(function(t){switch(t.label){case 0:return[4,x()];case 1:return 0===(e=t.sent()).length?[2,null]:[2,n.open(e[0])]}}))}))},n.open=function(e){return q(this,void 0,void 0,(function(){var t,r,o,i,a;return z(this,(function(u){switch(u.label){case 0:return[4,e.open()];case 1:return u.sent(),null!==e.configuration?[3,3]:[4,e.selectConfiguration(1)];case 2:u.sent(),u.label=3;case 3:return[4,j(e)];case 4:if(u.sent(),t=e.configurations[0].interfaces.find((function(e){return e.alternates.some((function(e){return 255===e.interfaceClass}))})),!t)throw new c.TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");r=t.interfaceNumber,u.label=5;case 5:return u.trys.push([5,7,,9]),[4,e.claimInterface(r)];case 6:return u.sent(),[3,9];case 7:return o=u.sent(),[4,e.close()];case 8:throw u.sent(),new c.TransportInterfaceNotAvailable(o.message);case 9:return i=new n(e,r),a=function(n){e===n.device&&(navigator.usb.removeEventListener("disconnect",a),i._emitDisconnect(new c.DisconnectedDevice))},navigator.usb.addEventListener("disconnect",a),[2,i]}}))}))},n.prototype.close=function(){return q(this,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,this.exchangeBusyPromise];case 1:return e.sent(),[4,this.device.releaseInterface(this.interfaceNumber)];case 2:return e.sent(),[4,j(this.device)];case 3:return e.sent(),[4,this.device.close()];case 4:return e.sent(),[2]}}))}))},n.prototype.exchange=function(e){return q(this,void 0,void 0,(function(){var n=this;return z(this,(function(t){switch(t.label){case 0:return[4,this.exchangeAtomicImpl((function(){return q(n,void 0,void 0,(function(){var n,t,r,o,i,a,c,u,s,l;return z(this,(function(d){switch(d.label){case 0:t=(n=this).channel,r=n.packetSize,_("apdu","=> "+e.toString("hex")),o=(0,g.Z)(t,r),i=o.makeBlocks(e),a=0,d.label=1;case 1:return a<i.length?[4,this.device.transferOut(3,i[a])]:[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return(c=o.getReducedResult(u))?[3,6]:[4,this.device.transferIn(3,r)];case 5:return s=d.sent(),l=F.from(s.data.buffer),u=o.reduceResponse(u,l),[3,4];case 6:return _("apdu","<= "+c.toString("hex")),[2,c]}}))}))})).catch((function(e){if(e&&e.message&&e.message.includes("disconnected"))throw n._emitDisconnect(e),new c.DisconnectedDeviceDuringOperation(e.message);throw e}))];case 1:return[2,t.sent()]}}))}))},n.prototype.setScrambleKey=function(){},n.isSupported=B,n.list=x,n.listen=function(e){var n=!1;return function(){return P(this,void 0,void 0,(function(){var e;return k(this,(function(n){switch(n.label){case 0:return[4,x()];case 1:return(e=n.sent()).length>0?[2,e[0]]:[2,L()]}}))}))}().then((function(t){if(!n){var r=I(t.productId);e.next({type:"add",descriptor:t,deviceModel:r}),e.complete()}}),(function(n){window.DOMException&&n instanceof window.DOMException&&18===n.code?e.error(new c.TransportWebUSBGestureRequired(n.message)):e.error(new c.TransportOpenUserCancelled(n.message))})),{unsubscribe:function(){n=!0}}},n}(v),W=H;function j(e){return q(this,void 0,void 0,(function(){var n;return z(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.reset()];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),console.warn(n),[3,3];case 3:return[2]}}))}))}}}]);